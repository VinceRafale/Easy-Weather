WEATHER.Collections.Conditions=Backbone.Collection.extend({StorageName:"Conditions",model:WEATHER.Models.Conditions,url:"http://54.245.106.49/easy-weather-api/index.php/weather/conditions/",initialize:function(e,t){this.url+=e+"/"+t},parse:function(e){if(Modernizr.localstorage){var t=!0,n=localStorage.getItem(this.StorageName),r=localStorage.getItem(this.StorageName+"Time");if(n&&r){var i=(new Date).getTime()-r;i<36e5&&(t=!1)}if(t){localStorage.setItem(this.StorageName,JSON.stringify(e));localStorage.setItem(this.StorageName+"Time",(new Date).getTime())}}return e},sync:function(e,t,n){var r=!0;n.dataType="jsonp";switch(e){case"create":return Backbone.sync(e,t,n);case"update":return Backbone.sync(e,t,n);case"delete":return Backbone.sync(e,t,n)}if(Modernizr.localstorage){var i=localStorage.getItem(this.StorageName),s=localStorage.getItem(this.StorageName+"Time");if(i&&s){var o=(new Date).getTime()-s;if(o<36e5){r=!1;n.success(JSON.parse(i))}}}if(r)return Backbone.sync(e,t,n)}});