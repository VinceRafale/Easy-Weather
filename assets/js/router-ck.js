// main application router
window.Router=Backbone.Router.extend({routes:{"":"home",conditions:"conditions",forecast:"forecast"},home:function(){$("#main").fadeIn("slow",function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var t=new WEATHER.Collections.Conditions(e.coords.latitude,e.coords.longitude),n=new WEATHER.Views.Conditions({model:t});t.fetch({success:function(){n.render();$("#main section").html(n.el)}});var r=new WEATHER.Collections.Forecast(e.coords.latitude,e.coords.longitude),i=new WEATHER.Views.Forecast({model:r});r.fetch({success:function(){i.render();$("#main section").append(i.el)}})},function(){$("#main").html($("<h3></h3>").html("We can't quite find where you are... Perhaps your in space? If you are, whats the weather like?"))}):$("#main").html($("<h3></h3>").html("Unfortunitly we can't decide if your device supports geo-location based services. Check back later, we may have a decision for you."))})},conditions:function(){$("#main").fadeIn("slow",function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var t=new WEATHER.Collections.Conditions(e.coords.latitude,e.coords.longitude),n=new WEATHER.Views.Conditions({model:t});t.fetch({success:function(){n.render();$("#main section").html(n.el)}})},function(){$("#main").html($("<h3></h3>").html("We can't quite find where you are... Perhaps your in space? If you are, whats the weather like?"))}):$("#main").html($("<h3></h3>").html("Unfortunitly we can't decide if your device supports geo-location based services. Check back later, we may have a decision for you."))})},forecast:function(){$("#main").fadeIn("slow",function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var t=new WEATHER.Collections.Forecast(e.coords.latitude,e.coords.longitude),n=new WEATHER.Views.Forecast({model:t});t.fetch({success:function(){n.render();$("#main section").html(n.el)}})},function(){$("#main").html($("<h3></h3>").html("We can't quite find where you are... Perhaps your in space? If you are, whats the weather like?"))}):$("#main").html($("<h3></h3>").html("Unfortunitly we can't decide if your device supports geo-location based services. Check back later, we may have a decision for you."))})},initialize:function(){var e=new WEATHER.Views.Loading;e.render();$("#main section").html(e.el)}});